import{v as A,r as o,a as h,j as e,$ as B}from"./app-DGaXkyY2.js";import{L as d,I as l}from"./label-BGYSW8GL.js";import{T as U}from"./text-link-B-P0yE5m.js";import{B as $}from"./createLucideIcon-zON5ncLs.js";import{I as c}from"./input-Bt9boKtE.js";import{A as G}from"./auth-layout-DgNoJj2a.js";import{L as P}from"./loader-circle-C-7ToNlh.js";import"./index-D9WHxDIS.js";import"./app-logo-icon-9-k4LoRt.js";function Z(){const{data:i,setData:r,post:C,processing:s,errors:n,reset:N}=A({name:"",phone:"",gender:"Masculino",birthdate:"",type_participant:"",career:"",institution:"",email:"",password:"",password_confirmation:""}),[y,I]=o.useState([]),[x,k]=o.useState([]),[g,F]=o.useState([]),[b,j]=o.useState(x),[v,w]=o.useState(g),[L,m]=o.useState(!1),[_,u]=o.useState(!1);o.useEffect(()=>{h.get("api/participant-types").then(a=>{I(a.data.map(t=>t.name))}),h.get("/api/career-types").then(a=>{k(a.data.map(t=>t.name)),j(a.data.map(t=>t.name))}),h.get("/api/institutions").then(a=>{F(a.data.map(t=>t.name)),w(a.data.map(t=>t.name))})},[]);const S=a=>{a.preventDefault(),C(route("register"),{onFinish:()=>N("password","password_confirmation")})},q=o.useRef(null),D=o.useRef(null),f=i.type_participant==="Universitario",z=a=>{const t=a.target.value;r("career",t),j(x.filter(p=>p.toLowerCase().includes(t.toLowerCase()))),m(!0)},R=a=>{r("career",a),m(!1)},T=a=>{const t=a.target.value;r("institution",t),w(g.filter(p=>p.toLowerCase().includes(t.toLowerCase()))),u(!0)},E=a=>{r("institution",a),u(!1)},M=a=>{const t=a.target.value;r("birthdate",t)};return e.jsxs(G,{title:"Crear una cuenta",description:"Ingrese los datos a continuación para crear su cuenta",children:[e.jsx(B,{title:"Registro"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:S,children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"name",children:"Nombre Completo"}),e.jsx(c,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"name",value:i.name,onChange:a=>r("name",a.target.value),disabled:s,placeholder:"Nombre completo"}),e.jsx(l,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"phone",children:"Celular"}),e.jsx(c,{id:"phone",type:"tel",required:!0,tabIndex:2,autoComplete:"phone",value:i.phone,onChange:a=>r("phone",a.target.value),disabled:s,placeholder:"Teléfono celular"}),e.jsx(l,{message:n.phone,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"gender",children:"Género"}),e.jsxs("select",{id:"gender",required:!0,tabIndex:3,value:i.gender,onChange:a=>r("gender",a.target.value),disabled:s,className:"border p-2 rounded-md bg-white dark:bg-zinc-900 text-black dark:text-white border-gray-300 dark:border-gray-700",children:[e.jsx("option",{value:"Masculino",children:"Masculino"}),e.jsx("option",{value:"Femenino",children:"Femenino"})]}),e.jsx(l,{message:n.gender,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"birthdate",children:"Fecha de nacimiento (Mes/Dia/Año)"}),e.jsx("input",{id:"birthdate",type:"date",required:!0,tabIndex:4,autoComplete:"birthdate",value:i.birthdate,onChange:M,disabled:s,className:"border p-2 rounded-md bg-white dark:bg-zinc-900 text-black dark:text-white border-gray-300 dark:border-gray-700 w-full"}),e.jsx(l,{message:n.birthdate,className:"mt-1"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"type_participant",children:"Tipo de participante"}),e.jsxs("select",{id:"type_participant",required:!0,tabIndex:5,value:i.type_participant||"",onChange:a=>r("type_participant",a.target.value),disabled:s,className:"border p-2 rounded-md bg-white dark:bg-zinc-900 text-black dark:text-white border-gray-300 dark:border-gray-700",children:[e.jsx("option",{value:"",children:"Seleccione un tipo"}),y.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx(l,{message:n.type_participant,className:"mt-2"})]}),f&&e.jsxs("div",{className:"relative",ref:D,children:[e.jsxs(d,{htmlFor:"career",children:["Carrera ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"career",type:"text",tabIndex:6,value:i.career||"",required:f,onChange:z,onClick:()=>m(!0),disabled:s,placeholder:"Escriba su carrera",className:"w-full"}),L&&b.length>0&&e.jsx("div",{className:"absolute z-10 w-full bg-white dark:bg-zinc-900 border border-gray-300 dark:border-gray-700 rounded-md shadow-md max-h-40 overflow-y-auto",children:b.map(a=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>R(a),children:a},a))}),e.jsx(l,{message:n.career,className:"mt-2"})]}),e.jsxs("div",{className:"relative",ref:q,children:[e.jsxs(d,{htmlFor:"institution",children:["Institución ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"institution",type:"text",tabIndex:7,autoComplete:"institution",required:!0,value:i.institution,onChange:T,onClick:()=>u(!0),disabled:s,placeholder:"Institución a la que pertenece"}),_&&v.length>0&&e.jsx("div",{className:"absolute z-10 w-full bg-white dark:bg-zinc-900 border border-gray-300 dark:border-gray-700 rounded-md shadow-md max-h-40 overflow-y-auto",children:v.map(a=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>E(a),children:a},a))}),e.jsx(l,{message:n.institution,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"email",children:"Correo electrónico"}),e.jsx(c,{id:"email",type:"email",required:!0,tabIndex:8,autoComplete:"email",value:i.email,onChange:a=>r("email",a.target.value),disabled:s,placeholder:"email@example.com"}),e.jsx(l,{message:n.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password",children:"Contraseña"}),e.jsx(c,{id:"password",type:"password",required:!0,tabIndex:9,autoComplete:"new-password",value:i.password,onChange:a=>r("password",a.target.value),disabled:s,placeholder:"Contraseña"}),e.jsx(l,{message:n.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password_confirmation",children:"Confirmar contraseña"}),e.jsx(c,{id:"password_confirmation",type:"password",required:!0,tabIndex:10,autoComplete:"new-password",value:i.password_confirmation,onChange:a=>r("password_confirmation",a.target.value),disabled:s,placeholder:"Confirmar contraseña"}),e.jsx(l,{message:n.password_confirmation})]}),e.jsxs($,{type:"submit",className:"mt-2 w-full",tabIndex:11,disabled:s,children:[s&&e.jsx(P,{className:"h-4 w-4 animate-spin"}),"Crear cuenta"]})]}),e.jsxs("div",{className:"text-muted-foreground text-center text-sm",children:["¿Ya tienes una cuenta?"," ",e.jsx(U,{href:route("login"),tabIndex:12,children:"Iniciar sesión"})]})]})]})}export{Z as default};
