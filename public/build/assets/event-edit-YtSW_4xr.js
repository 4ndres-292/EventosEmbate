import{m as f,r as d,j as e,L as b,S as E,a as y}from"./app-CSxVKq7s.js";import{L as o,I as c}from"./label-DrJOWd5q.js";import{B as v}from"./button-az5_naOT.js";import{I as l}from"./input-CdOQhH2L.js";import{A as N,L}from"./auth-layout-5o9INg2w.js";import{W as C}from"./welcome-header-OmNsSVva.js";import"./index-Cnvso2EB.js";import"./createLucideIcon-aEhmQRez.js";import"./app-logo-icon-BSUx13sv.js";import"./user-menu-content-GXM8WO-S.js";import"./index-CE-URAxI.js";import"./menu-DggNzfOL.js";function z({event:a}){const{data:i,setData:s,put:m,processing:p,errors:r,reset:g}=f({name_event:a.name_event,description_event:a.description_event,image_event:a.image_event,date_event:u(a.date_event),location:a.location||""}),[x,h]=d.useState([]);d.useEffect(()=>{s({name_event:a.name_event,description_event:a.description_event,image_event:a.image_event,date_event:u(a.date_event),location:a.location||""})},[a]),d.useEffect(()=>{(async()=>{try{const n=await y.get("/api/locations");h(n.data.map(_=>_.name))}catch(n){console.error("Error al cargar ubicaciones",n)}})()},[]);const j=t=>{t.preventDefault(),m(`/event-update/${a.id}`,{onSuccess:()=>g()})};return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsxs(N,{title:"Editar evento",description:"Modifica los datos del evento",children:[e.jsx(b,{title:"Editar Evento"}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:j,encType:"multipart/form-data",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"name_event",children:"Nombre del evento"}),e.jsx(l,{id:"name_event",type:"text",required:!0,value:i.name_event,onChange:t=>s("name_event",t.target.value),placeholder:"Ej: Fiesta de cumplea침os"}),e.jsx(c,{message:r.name_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"description_event",children:"Descripci칩n"}),e.jsx(l,{id:"description_event",type:"text",required:!0,value:i.description_event,onChange:t=>s("description_event",t.target.value),placeholder:"Describe tu evento..."}),e.jsx(c,{message:r.description_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"image_event",children:"Imagen del evento"}),e.jsx(l,{id:"image_event",type:"file",onChange:t=>{var n;(n=t.target.files)!=null&&n[0]&&s("image_event",t.target.files[0])}}),e.jsx(c,{message:r.image_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"date_event",children:"Fecha y hora del evento"}),e.jsx(l,{id:"date_event",type:"datetime-local",required:!0,value:i.date_event,onChange:t=>s("date_event",t.target.value)}),e.jsx(c,{message:r.date_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"location",children:"Ubicaci칩n"}),e.jsxs("select",{id:"location",required:!0,className:"border p-2 rounded-md",value:i.location,onChange:t=>s("location",t.target.value),children:[e.jsx("option",{value:"",children:"Selecciona una ubicaci칩n"}),x.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(c,{message:r.location})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>E.visit("/"),children:"Cancelar"}),e.jsxs(v,{type:"submit",disabled:p,children:[p&&e.jsx(L,{className:"animate-spin mr-2"}),"Guardar Cambios"]})]})]})})]})]})}function u(a){const i=new Date(a),s=i.getTimezoneOffset();return new Date(i.getTime()-s*60*1e3).toISOString().slice(0,16)}export{z as default};
