import{r as t,a,j as e}from"./app-Dxwitcqi.js";function f({endpoint:r,title:m,singularName:o="registro"}){const[u,h]=t.useState([]),[l,n]=t.useState(""),[c,i]=t.useState(null);t.useEffect(()=>{d()},[]);const d=async()=>{const s=await a.get(r);h(s.data)},x=async s=>{s.preventDefault();try{c===null?await a.post(r,{name:l}):await a.put(`${r}/${c}`,{name:l}),n(""),i(null),d()}catch(j){console.error("Error al guardar:",j)}},b=s=>{n(s.name),i(s.id)},p=async s=>{confirm(`¿Estás seguro de eliminar este ${o}?`)&&(await a.delete(`${r}/${s}`),d())};return e.jsxs("div",{className:"p-4",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Gestión de ",m]}),e.jsxs("form",{onSubmit:x,className:"mb-6",children:[e.jsx("input",{type:"text",placeholder:`Nombre del ${o}`,value:l,onChange:s=>n(s.target.value),className:"border p-2 mr-2 rounded",required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:c?"Actualizar":"Crear"})]}),e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border p-2",children:"ID"}),e.jsx("th",{className:"border p-2",children:"Nombre"}),e.jsx("th",{className:"border p-2",children:"Acciones"})]})}),e.jsx("tbody",{children:u.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2",children:s.id}),e.jsx("td",{className:"border p-2",children:s.name}),e.jsxs("td",{className:"border p-2",children:[e.jsx("button",{onClick:()=>b(s),className:"text-blue-600 hover:underline mr-2",children:"Editar"}),e.jsx("button",{onClick:()=>p(s.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},s.id))})]})]})}export{f as C};
