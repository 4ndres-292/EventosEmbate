import{m as j,r as m,j as e,L as _,a as f}from"./app-CHsi7JEc.js";import{L as n,I as c,a as i}from"./label-CAz9Z9lk.js";import{B as p}from"./createLucideIcon-mrHwe_s8.js";import{A as b,L as C}from"./auth-layout-DqgCxp-S.js";import{W as N}from"./welcome-header-D5GI_jXU.js";import"./index-gxRL8_kl.js";import"./app-logo-icon-CfDs6yaF.js";import"./user-menu-content-CnPhVYhi.js";import"./index-JXqAD3Oy.js";import"./menu-Fh9G23AZ.js";function W(){const{data:o,setData:s,post:v,processing:l,errors:r,reset:d}=j({name_event:"",description_event:"",image_event:"",date_event:"",location:""}),u=t=>{t.preventDefault(),v("/event-create",{onSuccess:()=>d()})},[x,g]=m.useState([]);return m.useEffect(()=>{(async()=>{try{const a=await f.get("api/locations");g(a.data.map(h=>h.name))}catch(a){console.error("Error al cargar ubicaciones",a)}})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs(b,{title:"Crear un evento",description:"Ingresa los datos para crear tu evento",children:[e.jsx(_,{title:"Evento"}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:u,encType:"multipart/form-data",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"name_event",children:"Nombre del evento"}),e.jsx(c,{id:"name_event",type:"text",required:!0,autoFocus:!0,value:o.name_event,onChange:t=>s("name_event",t.target.value),placeholder:"Ej: Fiesta de cumplea침os"}),e.jsx(i,{message:r.name_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"description_event",children:"Descripci칩n"}),e.jsx(c,{id:"description_event",type:"text",required:!0,value:o.description_event,onChange:t=>s("description_event",t.target.value),placeholder:"Describe tu evento..."}),e.jsx(i,{message:r.description_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"image_event",children:"Imagen del evento"}),e.jsx(c,{id:"image_event",type:"file",onChange:t=>{var a;(a=t.target.files)!=null&&a[0]&&s("image_event",t.target.files[0])}}),e.jsx(i,{message:r.image_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"date_event",children:"Fecha y hora del evento"}),e.jsx(c,{id:"date_event",type:"datetime-local",required:!0,value:o.date_event,onChange:t=>s("date_event",t.target.value)}),e.jsx(i,{message:r.date_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"location",children:"Ubicaci칩n"}),e.jsxs("select",{id:"location",required:!0,className:"border p-2 rounded-md",value:o.location,onChange:t=>s("location",t.target.value),children:[e.jsx("option",{value:"",children:"Selecciona una ubicaci칩n"}),x.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(i,{message:r.location})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>d(),children:"Cancelar"}),e.jsxs(p,{type:"submit",disabled:l,children:[l&&e.jsx(C,{className:"animate-spin mr-2"}),"Crear Evento"]})]})]})})]})]})}export{W as default};
