import{j as e,$ as x,Y as s,m}from"./app-DgdSNlx7.js";import{W as b}from"./welcome-header-DFhecDYk.js";import"./createLucideIcon-DoEx-SFA.js";import"./user-menu-content-CcQW-Hmh.js";import"./index-DUzbLjfl.js";import"./index-zojVbvRF.js";import"./menu-DaI5TJhP.js";function k({eventos:d}){const l=r=>{confirm("¿Estás seguro de que deseas eliminar este evento?")&&m.delete(`/event-delete/${r}`)},i=r=>r?r.startsWith("http")||r.startsWith("/storage")?r:`/storage/${r.replace(/^\/+/,"")}`:null;return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Todos los Eventos"}),e.jsx(b,{}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-extrabold mb-6 text-gray-900 dark:text-gray-100",children:"Todos los Eventos"}),e.jsx("div",{className:"overflow-x-auto rounded-lg shadow-lg border border-gray-300 dark:border-gray-700",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse",children:[e.jsx("thead",{className:"bg-blue-600 dark:bg-blue-700 text-white",children:e.jsx("tr",{children:["ID","Nombre","Descripción","Imagen","Ubicación","Creador","Horarios","Acciones"].map(r=>e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold border border-blue-700 dark:border-blue-600",children:r},r))})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:d.map(r=>{const t=i(r.image_event);return e.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150",children:[e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:r.id}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700 font-semibold",children:r.name_event}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 line-clamp-2",children:r.description_event})}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:t?e.jsx("img",{src:t,alt:r.name_event,className:"h-16 w-16 object-cover rounded"}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sin imagen"})}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:r.location}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:r.owner??"N/A"}),e.jsx("td",{className:"px-4 py-2 text-sm border border-gray-300 dark:border-gray-700",children:e.jsx("div",{className:"max-h-32 overflow-y-auto",children:r.schedules.length>0?e.jsxs("table",{className:"w-full table-auto text-xs border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1 dark:border-gray-700",children:"Fecha"}),e.jsx("th",{className:"border px-2 py-1 dark:border-gray-700",children:"Hora Inicial"}),e.jsx("th",{className:"border px-2 py-1 dark:border-gray-700",children:"Hora Final"})]})}),e.jsx("tbody",{children:r.schedules.map(a=>{const o=new Date(a.start_datetime).toLocaleDateString("es-ES"),n=new Date(a.start_datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=new Date(a.end_datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"border px-2 py-1 dark:border-gray-700",children:o}),e.jsx("td",{className:"border px-2 py-1 dark:border-gray-700",children:n}),e.jsx("td",{className:"border px-2 py-1 dark:border-gray-700",children:c})]},a.id)})})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Sin horarios"})})}),e.jsx("td",{className:"px-4 py-2 border border-gray-300 dark:border-gray-700 text-center",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(s,{href:`/event-edit/${r.id}`,className:"bg-yellow-500 hover:bg-yellow-600 text-white text-sm px-3 py-1 rounded-md transition",children:"Editar"}),e.jsx(s,{href:`/events/${r.id}/registered-users`,className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-3 py-1 rounded-md transition",children:"Ver Participantes"}),e.jsx("button",{onClick:()=>l(r.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded-md transition",children:"Eliminar"})]})})]},r.id)})})]})})]})]})}export{k as default};
