import{v as k,r as p,a as C,j as e,$ as y,m as F}from"./app-DgdSNlx7.js";import{L as i,I as l}from"./label-_vkqonG3.js";import{B as m}from"./createLucideIcon-DoEx-SFA.js";import{I as o}from"./input-BbrO_Xz0.js";import{A as E}from"./auth-layout-CLLPKnqo.js";import{W as S}from"./welcome-header-DFhecDYk.js";import{L as w}from"./loader-circle-CLVcvC-m.js";import"./index-zojVbvRF.js";import"./app-logo-icon-u6MEKAK9.js";import"./user-menu-content-CcQW-Hmh.js";import"./index-DUzbLjfl.js";import"./menu-DaI5TJhP.js";function U(){const{data:s,setData:r,post:v,processing:u,errors:g,reset:x}=k({name_event:"",description_event:"",image_event:"",location:"",schedules:[{start_datetime:"",end_datetime:""}]}),[j,_]=p.useState([]);p.useState(()=>{C.get("/api/locations").then(t=>{_(t.data.map(a=>a.name))}).catch(t=>{console.error("Error al cargar ubicaciones",t)})});const f=t=>{t.preventDefault(),v("/event-create",{onSuccess:()=>x()})};function h(t,a,c){const d=[...s.schedules];d[t][a]=c,r("schedules",d)}function b(){r("schedules",[...s.schedules,{start_datetime:"",end_datetime:""}])}function N(t){const a=s.schedules.filter((c,d)=>d!==t);r("schedules",a)}const n=g;return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs(E,{title:"Crear un evento",description:"Ingresa los datos para crear tu evento",children:[e.jsx(y,{title:"Evento"}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:f,encType:"multipart/form-data",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"name_event",children:"Nombre del evento"}),e.jsx(o,{id:"name_event",type:"text",required:!0,autoFocus:!0,value:s.name_event,onChange:t=>r("name_event",t.target.value),placeholder:"Ej: Fiesta de cumplea침os"}),e.jsx(l,{message:n.name_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"description_event",children:"Descripci칩n"}),e.jsx(o,{id:"description_event",type:"text",required:!0,value:s.description_event,onChange:t=>r("description_event",t.target.value),placeholder:"Describe tu evento..."}),e.jsx(l,{message:n.description_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"image_event",children:"Imagen del evento"}),e.jsx(o,{id:"image_event",type:"file",onChange:t=>{var a;(a=t.target.files)!=null&&a[0]&&r("image_event",t.target.files[0])}}),e.jsx(l,{message:n.image_event})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"location",children:"Ubicaci칩n"}),e.jsxs("select",{id:"location",required:!0,className:"border p-2 rounded-md bg-white text-black dark:bg-zinc-800 dark:text-white dark:border-zinc-600",value:s.location,onChange:t=>r("location",t.target.value),children:[e.jsx("option",{value:"",children:"Selecciona una ubicaci칩n"}),j.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(l,{message:n.location})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Fechas y horarios"}),s.schedules.map((t,a)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(i,{htmlFor:`start_datetime_${a}`,children:"Inicio"}),e.jsx(o,{id:`start_datetime_${a}`,type:"datetime-local",required:!0,className:"bg-white text-black dark:bg-zinc-800 dark:text-white dark:border-zinc-600",value:t.start_datetime,onChange:c=>h(a,"start_datetime",c.target.value)}),e.jsx(l,{message:n[`schedules.${a}.start_datetime`]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(i,{htmlFor:`end_datetime_${a}`,children:"Fin"}),e.jsx(o,{id:`end_datetime_${a}`,type:"datetime-local",required:!0,className:"bg-white text-black dark:bg-zinc-800 dark:text-white dark:border-zinc-600",value:t.end_datetime,onChange:c=>h(a,"end_datetime",c.target.value)}),e.jsx(l,{message:n[`schedules.${a}.end_datetime`]})]}),s.schedules.length>1&&e.jsx(m,{type:"button",variant:"destructive",className:"h-10 mt-6",onClick:()=>N(a),children:"Eliminar"})]},a)),e.jsx(m,{type:"button",variant:"outline",onClick:b,children:"+ Agregar fecha y horario"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>F.visit("/"),children:"Cancelar"}),e.jsxs(m,{type:"submit",disabled:u,children:[u&&e.jsx(w,{className:"animate-spin mr-2"}),"Crear Evento"]})]})]})})]})]})}export{U as default};
